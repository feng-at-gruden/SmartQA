@model IEnumerable<SmartCMS.Models.CategoryViewModel>

@{
    ViewBag.Title = "知识分类";
}

<div id="breadcrumbs">
    <ul>
        <li>@Html.ActionLink("智库管理", "Index", "CMS") </li>
        <li><a href="#">@ViewBag.Title</a></li>
    </ul>
</div>


<div class="panel panel-default">
    <div class="panel-heading">
        Categories
    </div>
    <div class="panel-body">

        @if (!ViewData.ModelState.IsValid)
        {
            <div class="alert alert-danger">
                @Html.ValidationSummary()
            </div>
        }

        @if (ViewBag.SuccessMessage != null)
        {
            <div class="alert alert-success">
                @ViewBag.SuccessMessage
            </div>
        }

        <div class="cms-tool-bar">
            <a href="~/CMS/AddCategory" class="btn btn-success">添加分类</a>            
        </div>
        <hr/>
        @foreach(SmartCMS.Models.CategoryViewModel category in Model)
        {            
            <div class="panel panel-default" style="width:650px;">
                <div class="panel-heading">
                    <a href="~/CMS/Category/@category.Id" class="category-item"><b>@category.Name</b></a>            
                </div>
                <div class="panel-body">
                    @if (category.SubCategories !=null )
                    {
                        foreach (SmartCMS.Models.CategoryViewModel sc in category.SubCategories)
                        {
                            <a href="~/CMS/Category/@sc.Id" class="category-item btn btn-default"><b>@sc.Name</b></a>
                        }
                    }                    
                </div>
            </div>                        
        }
    </div>
    <!-- /.panel-body -->
    <div class="panel-footer">
        &nbsp;
    </div>
</div>
